/* -----------------------------------------------------------------------------*/
// <ìš”êµ¬ì‚¬í•­>
// 1. ì‹¤ì‹œê°„ìœ¼ë¡œ ì‹œê°„ì´ ì—…ë°ì´íŠ¸ë˜ëŠ” ì‹œê³„ë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.
// 2. 1ì´ˆë§ˆë‹¤ í˜„ìž¬ ì‹œê°ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë  ìˆ˜ ìžˆë„ë¡ í•´ì•¼ í•©ë‹ˆë‹¤. (setInterval)
// 3. í˜•ì‹ì€ ' ðŸ•–í˜„ìž¬ ì‹œê°ì€ 00ì‹œ 00ë¶„ 00ì´ˆ ìž…ë‹ˆë‹¤.' ë¡œ ìž‘ì„±í•´ì£¼ì„¸ìš”.
// 4. stop ë²„íŠ¼ì„ í´ë¦­í•˜ë©´, ì‹œê³„ê°€ ì •ì§€í•´ì•¼ í•©ë‹ˆë‹¤. (clearInterval)
// 5. ì •ê°ì´ ë˜ê¸°ê¹Œì§€ ëª‡ ë¶„ì´ ë‚¨ì•˜ëŠ”ì§€ í‘œì‹œí•˜ë„ë¡ í•´ì•¼ í•©ë‹ˆë‹¤.
// 6. í˜•ì‹ì€ 'ì •ê°ê¹Œì§€ 00ë¶„ ë‚¨ì•˜ìŠµë‹ˆë‹¤!'ë¡œ ìž‘ì„±í•´ì£¼ì„¸ìš”.
// 7. ìŠ¤íƒ€ì¼ì€ ë§ˆìŒê» ìˆ˜ì •í•´ë„ ì¢‹ìŠµë‹ˆë‹¤.
/* -----------------------------------------------------------------------------*/
const body = document.querySelector("body");

let timer;
timer = setInterval(function () {
  // í˜„ìž¬ ì‹œê°ì„ í‘œì‹œí•  pìš”ì†Œ
  const p = document.querySelector("#now_time");
  // ì •ê° ë˜ê¸°ê¹Œì§€ ë‚¨ì€ ë¶„ì„ ë‚˜íƒ€ë‚´ëŠ” div ìš”ì†Œ
  const div = document.querySelector("#sharp");
  // 1. ë¹ŒíŠ¸ì¸ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì˜¤ëŠ˜ ë‚ ì§œë¥¼ ë°›ì•„ì˜¨ í›„ ë³€ìˆ˜ì— í• ë‹¹í•´ ì£¼ì„¸ìš”.
  const nowTime = new Date();
  // 2. í˜„ìž¬ ì‹œê°ì„ í‘œí˜„í•˜ê¸° ìœ„í•œ ê°’ì„ ì•Œë§žëŠ” ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë°›ì•„ì˜¨ í›„ ë³€ìˆ˜ì— í• ë‹¹í•´ ì£¼ì„¸ìš”.
  let hour = nowTime.getHours();
  let minute = nowTime.getMinutes();
  let second = nowTime.getSeconds();
  // ì •ê°ì´ ë˜ê¸°ê¹Œì§€ì˜ ë‚¨ì€ ë¶„
  let sharpTime = 60 - minute;
  // 4. ëª¨ë“  ê°’ì´ ì¤€ë¹„ë˜ì—ˆë‹¤ ë©´, ì•Œë§žëŠ” ìš”ì†Œì— text ê°’ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”.
  p.textContent = `í˜„ìž¬ ì‹œê°ì€ ${hour}ì‹œ ${minute}ë¶„ ${second}ì´ˆ ìž…ë‹ˆë‹¤.`;
  body.appendChild(p);

  div.textContent = `ì •ê°ê¹Œì§€ ${sharpTime}ë¶„ ë‚¨ì•˜ìŠµë‹ˆë‹¤!`;
  body.appendChild(div);
}, 1000); // 1ì´ˆë§ˆë‹¤ í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ë„ë¡ ì„¤ì •

// 5. ë²„íŠ¼ì— click ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ê²½ìš°, ì‹œê³„ê°€ ì •ì§€í•˜ë„ë¡ ì´ë²¤íŠ¸ë¦¬ìŠ¤ë„ˆë¥¼ ë“±ë¡í•´ì£¼ì„¸ìš”.
const button = document.getElementById("stop");

button.addEventListener("click", (e) => {
  setTimeout(() => {
    clearInterval(timer);
  });
});
